<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NGen: Guidance on How to Contribute</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NGen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md__c_o_n_t_r_i_b_u_t_i_n_g.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Guidance on How to Contribute</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md239"></a></p>
<blockquote class="doxtable">
<p>&zwj;All contributions to this project will be released to the public domain. By submitting a pull request or filing a bug, issue, or feature request, you are agreeing to comply with this waiver of copyright interest. Details can be found in our <a class="el" href="md__t_e_r_m_s.html">TERMS</a> and [LICENSE](LICENSE). </p>
</blockquote>
<p>There are two primary ways to help:</p><ul>
<li>Using the issue tracker, and</li>
<li>Changing the code-base.</li>
</ul>
<h1><a class="anchor" id="autotoc_md240"></a>
Using the Issue Tracker</h1>
<p>Use the issue tracker to suggest feature requests, report bugs, and ask questions. This is also a great way to connect with the developers of the project as well as others who are interested in this solution.</p>
<p>Use the issue tracker to find ways to contribute. Find a bug or a feature, mention in the issue that you will take on that effort, then follow the <em>Changing the code-base</em> guidance below.</p>
<h1><a class="anchor" id="autotoc_md241"></a>
Changing the Code-Base</h1>
<ul>
<li>Summary</li>
<li>Getting Started</li>
<li>Developing Changes</li>
<li>Keeping Forks Up to Date</li>
</ul>
<p>Note that this document only discusses aspects of Git usage that should be needed for day-to-day development and contributions. For a more detailed overview of ngen's use of Git, see the <a class="el" href="md_doc_2_g_i_t___u_s_a_g_e.html">GIT_USAGE</a> doc.</p>
<h2><a class="anchor" id="autotoc_md242"></a>
Summary</h2>
<p>To work with the repo and contribute changes, the basic process is as follows:</p>
<ul>
<li>Create your own fork in Github</li>
<li>Clone the repo locally (conventionally from your fork) and setup your repo on your local development machine</li>
<li>Make sure to keep your fork and your local clone(s) up to date with the official OWP ngen repo, ensuring histories remain consistent by performing rebasing</li>
<li>Create feature/fix branches from <code>master</code> when you want to contribute</li>
<li>Write changes you want to contribute, commit to your local feature/fix branch, and push these commits to a branch in your personal Github fork</li>
<li>Submit pull requests to the official OWP repo's <code>master</code> branch from a feature/fix branch your fork when the latter branch has a collection of changes ready to be incorporated</li>
</ul>
<h2><a class="anchor" id="autotoc_md243"></a>
Getting Started</h2>
<p>In order to be able to contribute code changes, you will first need to <a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/fork-a-repo">create a Github fork</a> of the official OWP repo.</p>
<p>Next, set up your authentication mechanism with Github for your command line (or IDE). You can either <a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent">create an SSH key pair</a> and <a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account">add the public key</a> to your Github account, or you can set up a <a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens#using-a-personal-access-token-on-the-command-line">Personal Access Token</a> if you plan to clone the repo locally via HTTPS.</p>
<p>After that, <a href="https://docs.github.com/en/repositories/creating-and-managing-repositories/cloning-a-repository">clone a local development repo</a> from your fork, using a command similar to one of the following: </p><pre class="fragment"># SSH-based clone command.  Change URL to match your fork as appropriate
git clone git@github.com:your_user/ngen.git

# HTTPS-based clone command.  Change URL to match your fork as appropriate
git clone https://github.com/your_user/ngen.git
</pre><p>You can now change directories into the local repo, which will have the <em>default</em> branch - <code>master</code> for this repository - checked out. </p><pre class="fragment"># Move into the repo directory "ngen"
cd ngen

# You can verify the branch by examining the output of ...
git status
</pre><dl class="section important"><dt>Important</dt><dd>Git will add a <a href="https://git-scm.com/book/en/v2/Git-Basics-Working-with-Remotes">Git remote</a> named <code>origin</code> to the clone's Git configuration that points to the cloned-from repo. Because of this, the recommended convention is to clone your local repo(s) from your personal fork, thus making <code>origin</code> point to your fork. This is assumed to be the case in other parts of the documentation.</dd></dl>
<p>Next, add the OWP ngen repo as a second <a href="https://git-scm.com/book/en/v2/Git-Basics-Working-with-Remotes">Git remote</a> for the local clone. Doing the addition will look something like: </p><pre class="fragment"># Add the remote, here using the HTTPS URL (the SSH URL would be fine also)
git remote add upstream https://github.com/NOAA-OWP/ngen.git

# Verify
git remote -v
</pre><dl class="section important"><dt>Important</dt><dd>The standard convention used in this doc and elsewhere is to name the Git remote for the official Github OWP repository <code>upstream</code>. In regular text, that Git remote will always be denoted like this. <br  />
<br  />
 Git also has the more general concept of an "upstream branch" associated with "tracking branches", as discussed on the <a href="https://git-scm.com/book/en/v2/Git-Branching-Remote-Branches">Git Remote Branches</a> documentation. We will use "upstream branch" when discussing these.</dd></dl>
<p>Now set up the user and email in the local repo's configuration. </p><pre class="fragment">git config user.name "John Doe"
git config user.email "john@doe.org"
</pre><p>Alternatively, one could also set these in the machine's global Git config (or rely upon the global settings if already configured). </p><pre class="fragment"> git config --global user.name "John Doe"
 git config --global user.email "john@doe.org"
</pre><h3><a class="anchor" id="autotoc_md244"></a>
Optional: Git Hooks</h3>
<p>While optional, Git hooks are a useful feature for helping maintain code quality in your local development repo. See the repo's <a href="doc/GIT_USAGE.md#optional-setting-up-hook-scripts"><em>Git Usage</em></a> document for more discussion on these.</p>
<h2><a class="anchor" id="autotoc_md245"></a>
Developing Changes</h2>
<ul>
<li>Work in a Dedicated Branch</li>
<li>Pushing Incremental Commits</li>
<li>Submitting Pull Requests<ul>
<li>Guidelines for Pull Requests</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="autotoc_md246"></a>
Work in a Dedicated Branch</h3>
<p>When you want to contribute a fix or new feature, start by creating and checking out a local branch (e.g., <code>new_branch</code>) to contain your work. This should be based on <code>master</code> (you may need to sync remote changes first): </p><pre class="fragment"># Create the new branch "new_branch" based on "master"
git branch new_branch master

# Check out "new_branch" locally to work in it
git checkout new_branch
</pre><p>Go ahead and push this new branch to your fork so it exists there as well. Use <code>-u</code> so that the local branch adds a tracking reference to the branch in your fork: </p><pre class="fragment"># Assuming the convention of your fork's remote being `origin`
git push -u origin new_branch
</pre><dl class="section important"><dt>Important</dt><dd>While <code>-u</code> isn't strictly required, including it causes <code>origin/new_branch</code> to be set as the "upstream branch" for the local <code>new_branch</code> (with the latter being referred to as a "tracking branch"). Tracking branch relationships are described in the <em>Tracking Branches</em> section of <a href="https://git-scm.com/book/en/v2/Git-Branching-Remote-Branches">Git's Remote Branches doc</a>. <br  />
 <br  />
<br  />
 While it is totally optional, parts our documentation - especially example commands - may assume this tracking branch relationship has been set.</dd></dl>
<p>From there begin writing and committing your changes to the branch. While up to you, it is suggested that development work be committed frequently when changes are complete and meaningful. If work requires modifying more than one file in the source, it is recommended to commit the changes independently to help avoid too large of conflicts if/when they occur.</p>
<h3><a class="anchor" id="autotoc_md247"></a>
Pushing Incremental Commits</h3>
<p>Especially if making more frequent, smaller commits as suggested above, it is a good practice to regularly push these smaller commits to your fork. If the <code>-u</code> option was used when initially pushing the branch, it is simple to check if there are local, unpushed commits. </p><pre class="fragment"># The fetch is probably unnecesssary unless you work from multiple local repos
git fetch

# Assuming your branch of interest is still checked out:
git status

# And if there are some newer, local changes that haven't been push yet:
git push
</pre><h3><a class="anchor" id="autotoc_md248"></a>
Submitting Pull Requests</h3>
<p>Once a code contribution is finished, make sure all changes have been pushed to the branch in your fork. Then you can navigate to the OWP repo via Github's web interface and <a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request">submit a PR</a> to pull this branch into the OWP <code>master</code> branch. Verify that <code>master</code> is selected as the recipient branch. You will also need to make sure you are comparing across forks, choosing your appropriate fork and branch to pull from. Complete details on the process can be found in Github's documentation.</p>
<h4><a class="anchor" id="autotoc_md249"></a>
Guidelines for Pull Requests</h4>
<p>The following guidelines are recommended for pull requests. Following these increases the likelihood of a PR being reviewed quickly and minimizes the amount of changes likely to be needed before approval:</p>
<ul>
<li>Make sure the PR has an informative and human-readable title</li>
<li>Limit the scope of changes within a PR to a single goal (no scope creep)</li>
<li>Ensure the resulting code can be automatically rebased into <code>master</code> without conflicts</li>
<li>Make sure project coding standards, if/when defined, are followed</li>
<li>Ensure resulting code passes all existing automated tests</li>
<li>Ensure any changes or additions to functionality are tested</li>
<li>Document new functions with a description, list of inputs, and expected output</li>
<li>Flag any placeholder code is flagged and note future TODO items in comments</li>
<li>Update repo-level documentation appropriately</li>
<li>Select one or more appropriate reviewers when creating the PR</li>
</ul>
<h4><a class="anchor" id="autotoc_md250"></a>
PR Review and Requested Revisions</h4>
<p>Once the PR is submitted, it will be reviewed by one or more other repo contributors. Often conversations will be had within the Github PR if reviewers have questions or request revisions be made to the proposed changes. If revisions are requested, you will need to make those in your locally copy of the feature/fix branch, and then re-push that branch (and the updates) to your personal fork. Then, use the PR page in Github to re-request review.</p>
<h2><a class="anchor" id="autotoc_md251"></a>
Keeping Forks Up to Date</h2>
<ul>
<li>A Rebase Strategy</li>
<li>Getting Remote Changes</li>
<li>Rebasing Development Branches</li>
<li>Fixing Diverging Development Branches</li>
</ul>
<h3><a class="anchor" id="autotoc_md252"></a>
A Rebase Strategy</h3>
<p>Development for this repo uses a <em>rebase</em> strategy for integrating code changes, rather than a <em>merge</em> strategy. More information on rebasing is <a href="https://git-scm.com/book/en/v2/Git-Branching-Rebasing">available here</a>, but the main takeaway is that it is important all changes are integrated into branches using this approach. Deviation from this will likely cause a bit of mess with branch commit histories, which could force rejection of otherwise-good PRs.</p>
<h3><a class="anchor" id="autotoc_md253"></a>
Getting Remote Changes</h3>
<p>When it is time to check for or apply updates from the official OWP repo to a personal fork and/or a local repo, check out the <code>master</code> branch locally and do fetch-and-rebase, which can be done with <code>pull</code> and the <code>--rebase</code> option: </p><pre class="fragment"># Checkout local master branch
git checkout master

# Fetch and rebase changes
git pull --rebase upstream master
</pre><p>Then, make sure these get pushed to your personal fork. Assuming the above-described setup where the local repo was cloned from the fork, and assuming the local <code>master</code> branch is currently checked out, the command for that is just: </p><pre class="fragment"># Note the assumptions mentioned above that are required for this syntax
git push
</pre><p>Alternatively, you can use the more explicit form:</p>
<p><code>git push &lt;fork_remote&gt; &lt;local_branch&gt;:&lt;remote_branch&gt;</code></p>
<p>The previous example command is effectively equivalent to running: </p><pre class="fragment"># Cloning a repo from a fork created a remote for the fork named "origin"; see above assumptions
git push origin master:master
</pre><p>You also can omit <code>&lt;local_branch&gt;:</code> (including the colon) and supply just the remote branch name if the appropriate local branch is still checked out.</p>
<h4><a class="anchor" id="autotoc_md254"></a>
For <code>production</code> Too</h4>
<p>Note that the above steps to get remote changes from the official OWP repo can be applied to the <code>production</code> branch also (just swap <code>production</code> in place of <code>master</code>). <code>production</code> should not be used as the basis for feature/fix branches, but there are other reasons why one might want the latest <code>production</code> locally or in a personal fork.</p>
<h3><a class="anchor" id="autotoc_md255"></a>
Rebasing Development Branches</h3>
<p>When the steps in Getting Remote Changes do bring in new commits that update <code>master</code>, it is usually a good idea (and often necessary) to rebase any local feature/fix branches were previously created. E.g., </p><pre class="fragment"># If using a development branch named 'faster_dataset_writes'
git checkout faster_dataset_writes
git rebase master
</pre><p>See documentation on <a href="https://git-scm.com/docs/git-rebase">the "git rebase" command</a> for more details.</p>
<h4><a class="anchor" id="autotoc_md256"></a>
Interactive Rebasing</h4>
<p>It is possible to have more control over rebasing by doing an interactive rebase. E.g.: </p><pre class="fragment">git rebase -i master
</pre><p>This will open up a text editor allowing for reordering, squashing, dropping, etc., development branch commits prior to rebasing them onto the new base commit from <code>master</code>. See the <a href="https://git-scm.com/docs/git-rebase#_interactive_mode"><b>Interactive Mode</b></a> section on the rebase command for more details.</p>
<h3><a class="anchor" id="autotoc_md257"></a>
Fixing Diverging Development Branches</h3>
<p>If a local feature/fix branch is already pushed to a remote fork, and then later rebasing the local branch is necessary, doing so will cause the histories to diverge. For simple cases, the fix is to just force-push the rebased local branch. </p><pre class="fragment"># To force-push to fix a divergent branch
git push -f origin feature_branch
</pre><p>However, extra care is needed if multiple developers may be using the branch in the fork (e.g., a developer is collaborating with someone else on a large set of changes for some new feature). The particular considerations and best ways to go about things in such cases are outside the scope of this document. Consult Git's documentation and Google, or contact another contributor for advice. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Jan 31 2025 15:10:13 for NGen by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>

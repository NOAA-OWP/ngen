#-------------------------------------------------------------------------------
log_parameters:
  #----------
  showtiming: True
  log_level : DEBUG

#-------------------------------------------------------------------------------
network_topology_parameters:
  #----------
  supernetwork_parameters:
    #----------
    network_type: HYFeaturesNetwork
    geo_file_path: ./data/geo/camels_subset_hf2.gpkg

    columns:
      key: 'id'
      downstream: 'toid'
      dx : 'length_m'
      n : 'n'
      ncc : 'nCC'
      s0 : 'So'
      bw : 'BtmWdth'
      waterbody : 'WaterbodyID'
      gages : 'gage'
      tw : 'TopWdth'
      twcc : 'TopWdthCC'
      musk : 'MusK'
      musx : 'MusX'
      cs : 'ChSlp'
      alt: 'alt'

  waterbody_parameters:
      #----------
      break_network_at_waterbodies: False

#-------------------------------------------------------------------------------
compute_parameters:
  #----------
  parallel_compute_method: by-subnetwork-jit-clustered #serial
  compute_kernel         : V02-structured
  assume_short_ts        : True
  subnetwork_target_size : 10000
  cpu_pool               : 36

  restart_parameters:
    #----------
    start_datetime: "2009-01-09 00:00:00"

  forcing_parameters:
    #----------
    # T-route's internal timestep in seconds
    dt                          : 300 # [sec]
    # Ngen's timestep divided by t-route's (e.g. 3600/300)
    qts_subdivisions            : 12
    # Total simulation t-route timesteps (e.g. 12 per hour, 288 per day)
    nts                         : 111744.0
    # Number of external (ngen) timesteps (NOTE: must change if time period changes)
    max_loop_size               : 9312.0 # [hr]
    # The location to find the nex-* CSV files
    qlat_input_folder           : ./data/output/
    nexus_input_folder         : ./data/output/
    # The glob pattern to match nexus output files - MUST NOT CHANGE!
    qlat_file_pattern_filter    : "nex-*"
    nexus_file_pattern_filter   : "nex-*"
    # A directory where the temporary *.parquet files will be stored
    # binary_nexus_file_folder    : ./data/output/troute_tmp/

  data_assimilation_parameters:
    #----------
    # usgs_timeslices_folder   : ./usgs_TimeSlice/
    # usace_timeslices_folder  : #usace_TimeSlice/
    # timeslice_lookback_hours : #48
    # qc_threshold             : #1

    streamflow_da:
      #----------
      streamflow_nudging: False
      diffusive_streamflow_nudging  : False

    reservoir_da:
      #----------
      reservoir_persistence_da:
        #----------
        reservoir_persistence_usgs  : False
        reservoir_persistence_usace : False

      reservoir_rfc_da:
        #----------
        reservoir_rfc_forecasts: False

#-------------------------------------------------------------------------------
output_parameters:
  #----------
  stream_output :
    stream_output_directory: ./data/output/stream_output/
    stream_output_time: 1 #[hr]
    stream_output_type: '.nc' #please select only between netcdf '.nc' or '.csv' or '.pkl'
    stream_output_internal_frequency: 60 #[min] it should be order of 5 minutes. For instance if you want to output every hour put 60

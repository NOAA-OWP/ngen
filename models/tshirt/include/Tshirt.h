
#ifndef TSHIRT_H
#define TSHIRT_H

//! Tshirt parameters struct
/*!
    This structure provides storage for the parameters of the Tshirt hydrological model
*/

struct tshirt_params
{
    // TODO: implement
};

//! Tshirt state structure
/*!
    This structure provides storage for the state used by Tshirt hydrological model at a particular time step.
*/

struct tshirt_state
{
    // TODO: implement
};

//! Tshirt flux structure
/*!
    This structure provides storage for the fluxes generated by Tshirt at any time step
*/

struct tshirt_fluxes
{
    // TODO: implement
};

// TODO: consider combining with or differentiating from similar hymod enum
enum TshirtErrorCodes
{
    NO_ERROR = 0,
    MASS_BALANCE_ERROR = 100
};

//! Tshirt kernel class
/*!
    This class implements the Tshirt hydrological model

*/

class tshirt_kernel
{
public:

    //! stub function to simulate losses due to evapotransportation
    static double calc_et(double soil_m, void* et_params)
    {
        // TODO: implement
        return 0.0;
    }

    //! run one time step of tshirt
    static int run(
            double dt,
            tshirt_params params,        //!< static parameters for tshirt
            tshirt_state state,          //!< model state
            tshirt_state& new_state,     //!< model state struct to hold new model state
            tshirt_fluxes& fluxes,       //!< model flux object to hold calculated fluxes
            double input_flux_meters,          //!< the amount water entering the system this time step
            void* et_params)            //!< parameters for the et function
    {
        // TODO: waiting on scientific equations for implementation
        return 0;
    }

    static int mass_check(
            const tshirt_params &params,
            const tshirt_state &current_state,
            double input_flux_meters,
            const tshirt_state &next_state,
            const tshirt_fluxes &calculated_fluxes,
            double timestep_seconds)
    {
        // TODO: implement
        return 0;
    }
};

#endif //TSHIRT_H

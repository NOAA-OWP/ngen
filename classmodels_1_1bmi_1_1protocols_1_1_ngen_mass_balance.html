<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NGen: models::bmi::protocols::NgenMassBalance Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NGen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classmodels_1_1bmi_1_1protocols_1_1_ngen_mass_balance.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classmodels_1_1bmi_1_1protocols_1_1_ngen_mass_balance-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">models::bmi::protocols::NgenMassBalance Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="mass__balance_8hpp_source.html">mass_balance.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for models::bmi::protocols::NgenMassBalance:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classmodels_1_1bmi_1_1protocols_1_1_ngen_mass_balance__inherit__graph.svg" width="160" height="527"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-1" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for models::bmi::protocols::NgenMassBalance:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classmodels_1_1bmi_1_1protocols_1_1_ngen_mass_balance__coll__graph.svg" width="160" height="527"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a942276f6833dfac529000dc902bacca2" id="r_a942276f6833dfac529000dc902bacca2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a942276f6833dfac529000dc902bacca2">NgenMassBalance</a> (const <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#a3d6ae38d015b690b5b0fdb0a4e0cc6b2">ModelPtr</a> &amp;model, const <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#a5405ec54d1c5f12a71a36ddd4639fdb1">Properties</a> &amp;properties)</td></tr>
<tr class="memdesc:a942276f6833dfac529000dc902bacca2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mass Balance protocol.  <br /></td></tr>
<tr class="separator:a942276f6833dfac529000dc902bacca2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaf303401a68e066ddf74e34bb08ace1" id="r_adaf303401a68e066ddf74e34bb08ace1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adaf303401a68e066ddf74e34bb08ace1">NgenMassBalance</a> ()</td></tr>
<tr class="memdesc:adaf303401a68e066ddf74e34bb08ace1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new, default Ngen Mass Balance object.  <br /></td></tr>
<tr class="separator:adaf303401a68e066ddf74e34bb08ace1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94f2988c778a6e1bf035d3738a16823c" id="r_a94f2988c778a6e1bf035d3738a16823c"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a94f2988c778a6e1bf035d3738a16823c">~NgenMassBalance</a> () override</td></tr>
<tr class="separator:a94f2988c778a6e1bf035d3738a16823c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-methods" name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:aca11929f23379414c3832821ea76c1ea" id="r_aca11929f23379414c3832821ea76c1ea"><td class="memItemLeft" align="right" valign="top">static auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_ngen_bmi_protocol.html#aca11929f23379414c3832821ea76c1ea">error_or_warning</a> (const <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_protocol_error.html">ProtocolError</a> &amp;err) -&gt; expected&lt; void, <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_protocol_error.html">ProtocolError</a> &gt;</td></tr>
<tr class="memdesc:aca11929f23379414c3832821ea76c1ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle a <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_protocol_error.html">ProtocolError</a> by either throwing it or logging it as a warning.  <br /></td></tr>
<tr class="separator:aca11929f23379414c3832821ea76c1ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a1a673a48d66e7bf989e50b2b6e40749d" id="r_a1a673a48d66e7bf989e50b2b6e40749d"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1a673a48d66e7bf989e50b2b6e40749d">run</a> (const <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#a3d6ae38d015b690b5b0fdb0a4e0cc6b2">ModelPtr</a> &amp;model, const <a class="el" href="structmodels_1_1bmi_1_1protocols_1_1_context.html">Context</a> &amp;ctx) const -&gt; expected&lt; void, <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_protocol_error.html">ProtocolError</a> &gt; override</td></tr>
<tr class="memdesc:a1a673a48d66e7bf989e50b2b6e40749d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the mass balance protocol.  <br /></td></tr>
<tr class="separator:a1a673a48d66e7bf989e50b2b6e40749d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f3a680030c5e99d7917077fea0d7369" id="r_a0f3a680030c5e99d7917077fea0d7369"><td class="memItemLeft" align="right" valign="top">nsel_NODISCARD auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f3a680030c5e99d7917077fea0d7369">check_support</a> (const <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#a3d6ae38d015b690b5b0fdb0a4e0cc6b2">ModelPtr</a> &amp;model) -&gt; expected&lt; void, <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_protocol_error.html">ProtocolError</a> &gt; override</td></tr>
<tr class="memdesc:a0f3a680030c5e99d7917077fea0d7369"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the mass balance protocol is supported by the model.  <br /></td></tr>
<tr class="separator:a0f3a680030c5e99d7917077fea0d7369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae82d7970700a983977a1753f87f43fdc" id="r_ae82d7970700a983977a1753f87f43fdc"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae82d7970700a983977a1753f87f43fdc">initialize</a> (const <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#a3d6ae38d015b690b5b0fdb0a4e0cc6b2">ModelPtr</a> &amp;model, const <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#a5405ec54d1c5f12a71a36ddd4639fdb1">Properties</a> &amp;properties) -&gt; expected&lt; void, <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_protocol_error.html">ProtocolError</a> &gt; override</td></tr>
<tr class="memdesc:ae82d7970700a983977a1753f87f43fdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the model for support and initialize the mass balance protocol from the given properties.  <br /></td></tr>
<tr class="separator:ae82d7970700a983977a1753f87f43fdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa05dcc8fcf77d85b4aba506c613b9c95" id="r_aa05dcc8fcf77d85b4aba506c613b9c95"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa05dcc8fcf77d85b4aba506c613b9c95">is_supported</a> () const override final</td></tr>
<tr class="memdesc:aa05dcc8fcf77d85b4aba506c613b9c95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the protocol is supported by the model.  <br /></td></tr>
<tr class="separator:aa05dcc8fcf77d85b4aba506c613b9c95"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a6d607110426777fdf2c9fc1b539da10d" id="r_a6d607110426777fdf2c9fc1b539da10d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6d607110426777fdf2c9fc1b539da10d">tolerance</a></td></tr>
<tr class="separator:a6d607110426777fdf2c9fc1b539da10d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae36ebcec6ab68d031c47fada53f73cf0" id="r_ae36ebcec6ab68d031c47fada53f73cf0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae36ebcec6ab68d031c47fada53f73cf0">frequency</a></td></tr>
<tr class="separator:ae36ebcec6ab68d031c47fada53f73cf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43c9f6cc22cc98274d26d55ac5f77b0d" id="r_a43c9f6cc22cc98274d26d55ac5f77b0d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a43c9f6cc22cc98274d26d55ac5f77b0d">supported</a> = false</td></tr>
<tr class="separator:a43c9f6cc22cc98274d26d55ac5f77b0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b916c7ead25199048db9ab54504646b" id="r_a7b916c7ead25199048db9ab54504646b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7b916c7ead25199048db9ab54504646b">check</a></td></tr>
<tr class="separator:a7b916c7ead25199048db9ab54504646b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eebe6b07794a906741024418e632249" id="r_a1eebe6b07794a906741024418e632249"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1eebe6b07794a906741024418e632249">is_fatal</a></td></tr>
<tr class="separator:a1eebe6b07794a906741024418e632249"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a942276f6833dfac529000dc902bacca2" name="a942276f6833dfac529000dc902bacca2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a942276f6833dfac529000dc902bacca2">&#9670;&#160;</a></span>NgenMassBalance() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">models::bmi::protocols::NgenMassBalance::NgenMassBalance </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#a3d6ae38d015b690b5b0fdb0a4e0cc6b2">ModelPtr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>model</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#a5405ec54d1c5f12a71a36ddd4639fdb1">Properties</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>properties</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mass Balance protocol. </p>
<p>This protocol <code><a class="el" href="#a1a673a48d66e7bf989e50b2b6e40749d" title="Run the mass balance protocol.">run()</a></code>s a simple mass balance calculation by querying the model for a set of mass balance state variables and computing the basic mass balance as balance = mass_in - mass_out - mass_stored - mass_leaked. It is then checked against a tolerance value to determine if the mass balance is acceptable.</p>
<p>Constructor for the <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_ngen_mass_balance.html">NgenMassBalance</a> protocol</p>
<p>This constructor initializes the mass balance protocol with the given model and properties.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>A shared pointer to a <a class="el" href="classmodels_1_1bmi_1_1_bmi___adapter.html" title="Abstract adapter interface for C++ classes to interact with the essential aspects of external models ...">Bmi_Adapter</a> object which should be initialized before being passed to this constructor. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="#ae82d7970700a983977a1753f87f43fdc">initialize()</a>.</p>

</div>
</div>
<a id="adaf303401a68e066ddf74e34bb08ace1" name="adaf303401a68e066ddf74e34bb08ace1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaf303401a68e066ddf74e34bb08ace1">&#9670;&#160;</a></span>NgenMassBalance() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">models::bmi::protocols::NgenMassBalance::NgenMassBalance </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a new, default Ngen Mass Balance object. </p>
<p>By default, the protocol is considered unsupported and won't be checked </p>

</div>
</div>
<a id="a94f2988c778a6e1bf035d3738a16823c" name="a94f2988c778a6e1bf035d3738a16823c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94f2988c778a6e1bf035d3738a16823c">&#9670;&#160;</a></span>~NgenMassBalance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">models::bmi::protocols::NgenMassBalance::~NgenMassBalance </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0f3a680030c5e99d7917077fea0d7369" name="a0f3a680030c5e99d7917077fea0d7369"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f3a680030c5e99d7917077fea0d7369">&#9670;&#160;</a></span>check_support()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto models::bmi::protocols::NgenMassBalance::check_support </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#a3d6ae38d015b690b5b0fdb0a4e0cc6b2">ModelPtr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>model</em></span></td><td>)</td>
          <td> -&gt; expected&lt;void, <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_protocol_error.html">ProtocolError</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the mass balance protocol is supported by the model. </p>
<dl class="section return"><dt>Returns</dt><dd>expected&lt;void, ProtocolError&gt; May contain a <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_protocol_error.html">ProtocolError</a> if the protocol is not supported by the model. </dd></dl>

<p>Implements <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_ngen_bmi_protocol.html#a84d741b66e3a9bb1898e9e3771ead266">models::bmi::protocols::NgenBmiProtocol</a>.</p>

<p class="reference">References <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#aaa1dd08488543edd9137a624bb529fd8">models::bmi::protocols::INPUT_MASS_NAME</a>, <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#aa0aa8e7c2fca284c07c66b6186d9fb93a350b47a37214a6d35055db245ae8dcb3">models::bmi::protocols::INTEGRATION_ERROR</a>, <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#a3ab87da893c45d154218c925d01037b0">models::bmi::protocols::LEAKED_MASS_NAME</a>, <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#a7762c6b1a0dfecc668efd45d6383381b">models::bmi::protocols::OUTPUT_MASS_NAME</a>, <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#a33953c0ffe885acf27637b67d90abf72">models::bmi::protocols::STORED_MASS_NAME</a>, and <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#aa0aa8e7c2fca284c07c66b6186d9fb93a7388d2f530d3c4a5d519e4b7c65d3a43">models::bmi::protocols::UNITIALIZED_MODEL</a>.</p>

</div>
</div>
<a id="aca11929f23379414c3832821ea76c1ea" name="aca11929f23379414c3832821ea76c1ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca11929f23379414c3832821ea76c1ea">&#9670;&#160;</a></span>error_or_warning()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static auto models::bmi::protocols::NgenBmiProtocol::error_or_warning </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_protocol_error.html">ProtocolError</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>err</em></span></td><td>)</td>
          <td> -&gt; expected&lt;void, <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_protocol_error.html">ProtocolError</a>&gt; </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle a <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_protocol_error.html">ProtocolError</a> by either throwing it or logging it as a warning. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">err</td><td>The <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_protocol_error.html">ProtocolError</a> to handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>expected&lt;void, ProtocolError&gt; Returns an empty expected if the error was logged as a warning, otherwise throws the <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_protocol_error.html">ProtocolError</a>.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_protocol_error.html">ProtocolError</a></td><td>if the error is of type PROTOCOL_ERROR </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#aa0aa8e7c2fca284c07c66b6186d9fb93a350b47a37214a6d35055db245ae8dcb3">models::bmi::protocols::INTEGRATION_ERROR</a>, <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#aa0aa8e7c2fca284c07c66b6186d9fb93a23f149f0f9ae9ed9e0119e7209178a5d">models::bmi::protocols::PROTOCOL_ERROR</a>, <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#aa0aa8e7c2fca284c07c66b6186d9fb93adaaccf134fbc0347bd4c7cb4f4c69e8b">models::bmi::protocols::PROTOCOL_WARNING</a>, <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#aa0aa8e7c2fca284c07c66b6186d9fb93a7388d2f530d3c4a5d519e4b7c65d3a43">models::bmi::protocols::UNITIALIZED_MODEL</a>, and <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#aa0aa8e7c2fca284c07c66b6186d9fb93a735c3d53d46c84c25dc772162b02ca6c">models::bmi::protocols::UNSUPPORTED_PROTOCOL</a>.</p>

<p class="reference">Referenced by <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_ngen_bmi_protocols.html#a69fb546446da5929d102ecb276c9ac9d">models::bmi::protocols::NgenBmiProtocols::run()</a>.</p>

</div>
</div>
<a id="ae82d7970700a983977a1753f87f43fdc" name="ae82d7970700a983977a1753f87f43fdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae82d7970700a983977a1753f87f43fdc">&#9670;&#160;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto models::bmi::protocols::NgenMassBalance::initialize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#a3d6ae38d015b690b5b0fdb0a4e0cc6b2">ModelPtr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>model</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#a5405ec54d1c5f12a71a36ddd4639fdb1">Properties</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>properties</em></span>&#160;) -&gt; expected&lt;void, <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_protocol_error.html">ProtocolError</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check the model for support and initialize the mass balance protocol from the given properties. </p>
<p>If the model does not support the mass balance protocol, an exception will be thrown, and no mass balance will performed when <code><a class="el" href="#a1a673a48d66e7bf989e50b2b6e40749d" title="Run the mass balance protocol.">run()</a></code> is called.</p>
<p>A private initialize call is used since it only makes sense to check/run the protocol once the model adapter is fully constructed. This should be called by the owner of the <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_ngen_mass_balance.html">NgenMassBalance</a> instance once the model is ready.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">properties</td><td>Configurable key/value properties for the mass balance protocol. If the map contains "mass_balance" object, then the following properties are used to configure the protocol: tolerance: double, default 1.0E-16. check: bool, default true. Whether to perform mass balance check. frequency: int, default 1. How often (in time steps) to check mass balance. fatal: bool, default false. Whether to treat mass balance errors as fatal. Otherwise, mass balance checking will be disabled (check will be false)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>expected&lt;void, ProtocolError&gt; May contain a <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_protocol_error.html">ProtocolError</a> if initialization fails for any reason, since the protocol must be effectively "optional", failed initialization results in the protocol being disabled for the duration of the simulation. </dd></dl>

<p>Implements <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_ngen_bmi_protocol.html#a9074cf912a781a0853674aea5b880f7f">models::bmi::protocols::NgenBmiProtocol</a>.</p>

<p class="reference">References <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#a2f4f0f2ecbe01aa6add2a542c1b6e233">models::bmi::protocols::CHECK_KEY</a>, <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#a924285549e386073adb56d65af2c599a">models::bmi::protocols::CONFIGURATION_KEY</a>, <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#a90c856a194aff973ac83a03aebe4b94d">models::bmi::protocols::FATAL_KEY</a>, <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#a0d2708045fe54054be425ef0696205b6">models::bmi::protocols::FREQUENCY_KEY</a>, <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#aa0aa8e7c2fca284c07c66b6186d9fb93adaaccf134fbc0347bd4c7cb4f4c69e8b">models::bmi::protocols::PROTOCOL_WARNING</a>, and <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#ac72387c92378a1dd2554c738b530b08a">models::bmi::protocols::TOLERANCE_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a942276f6833dfac529000dc902bacca2">NgenMassBalance()</a>.</p>

</div>
</div>
<a id="aa05dcc8fcf77d85b4aba506c613b9c95" name="aa05dcc8fcf77d85b4aba506c613b9c95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa05dcc8fcf77d85b4aba506c613b9c95">&#9670;&#160;</a></span>is_supported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool models::bmi::protocols::NgenMassBalance::is_supported </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">final</span><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether the protocol is supported by the model. </p>
<dl class="section return"><dt>Returns</dt><dd>true the model exposes the required mass balance variables </dd>
<dd>
false the model does not support mass balance checking via this protocol </dd></dl>

<p>Implements <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_ngen_bmi_protocol.html#a031dddc337670dc19d19d386e38e1c49">models::bmi::protocols::NgenBmiProtocol</a>.</p>

<p class="reference">References <a class="el" href="#a43c9f6cc22cc98274d26d55ac5f77b0d">supported</a>.</p>

</div>
</div>
<a id="a1a673a48d66e7bf989e50b2b6e40749d" name="a1a673a48d66e7bf989e50b2b6e40749d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a673a48d66e7bf989e50b2b6e40749d">&#9670;&#160;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto models::bmi::protocols::NgenMassBalance::run </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#a3d6ae38d015b690b5b0fdb0a4e0cc6b2">ModelPtr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>model</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmodels_1_1bmi_1_1protocols_1_1_context.html">Context</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>&#160;) const -&gt; expected&lt;void, <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_protocol_error.html">ProtocolError</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run the mass balance protocol. </p>
<p>If the configured frequency is -1, the mass balance will only be checked at the end of the simulation. If the frequency is greater than 0, the mass balance will be checked at the specified frequency based on the current_time_step and the total_steps provided in the <a class="el" href="structmodels_1_1bmi_1_1protocols_1_1_context.html">Context</a>.</p>
<p>Warns or errors at each check if total mass balance is not within the configured acceptable tolerance.</p>
<dl class="section return"><dt>Returns</dt><dd>expected&lt;void, ProtocolError&gt; May contain a <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_protocol_error.html">ProtocolError</a> if the protocol fails for any reason. Errors of ProtocolError::PROTOCOL_WARNING severity should be logged as warnings, but not cause the simulation to fail. </dd></dl>

<p>Implements <a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_ngen_bmi_protocol.html#ae0d0256860b177262a92569852cdfe4d">models::bmi::protocols::NgenBmiProtocol</a>.</p>

<p class="reference">References <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#aaa1dd08488543edd9137a624bb529fd8">models::bmi::protocols::INPUT_MASS_NAME</a>, <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#a3ab87da893c45d154218c925d01037b0">models::bmi::protocols::LEAKED_MASS_NAME</a>, <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#a7762c6b1a0dfecc668efd45d6383381b">models::bmi::protocols::OUTPUT_MASS_NAME</a>, <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#aa0aa8e7c2fca284c07c66b6186d9fb93a23f149f0f9ae9ed9e0119e7209178a5d">models::bmi::protocols::PROTOCOL_ERROR</a>, <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#aa0aa8e7c2fca284c07c66b6186d9fb93adaaccf134fbc0347bd4c7cb4f4c69e8b">models::bmi::protocols::PROTOCOL_WARNING</a>, <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#a33953c0ffe885acf27637b67d90abf72">models::bmi::protocols::STORED_MASS_NAME</a>, and <a class="el" href="namespacemodels_1_1bmi_1_1protocols.html#aa0aa8e7c2fca284c07c66b6186d9fb93a7388d2f530d3c4a5d519e4b7c65d3a43">models::bmi::protocols::UNITIALIZED_MODEL</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a7b916c7ead25199048db9ab54504646b" name="a7b916c7ead25199048db9ab54504646b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b916c7ead25199048db9ab54504646b">&#9670;&#160;</a></span>check</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool models::bmi::protocols::NgenMassBalance::check</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae36ebcec6ab68d031c47fada53f73cf0" name="ae36ebcec6ab68d031c47fada53f73cf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae36ebcec6ab68d031c47fada53f73cf0">&#9670;&#160;</a></span>frequency</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int models::bmi::protocols::NgenMassBalance::frequency</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1eebe6b07794a906741024418e632249" name="a1eebe6b07794a906741024418e632249"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eebe6b07794a906741024418e632249">&#9670;&#160;</a></span>is_fatal</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool models::bmi::protocols::NgenMassBalance::is_fatal</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a43c9f6cc22cc98274d26d55ac5f77b0d" name="a43c9f6cc22cc98274d26d55ac5f77b0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43c9f6cc22cc98274d26d55ac5f77b0d">&#9670;&#160;</a></span>supported</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool models::bmi::protocols::NgenMassBalance::supported = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#aa05dcc8fcf77d85b4aba506c613b9c95">is_supported()</a>.</p>

</div>
</div>
<a id="a6d607110426777fdf2c9fc1b539da10d" name="a6d607110426777fdf2c9fc1b539da10d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d607110426777fdf2c9fc1b539da10d">&#9670;&#160;</a></span>tolerance</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double models::bmi::protocols::NgenMassBalance::tolerance</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/utilities/bmi/<a class="el" href="mass__balance_8hpp_source.html">mass_balance.hpp</a></li>
<li>src/utilities/bmi/<b>mass_balance.cpp</b></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacemodels.html">models</a></li><li class="navelem"><a class="el" href="namespacemodels_1_1bmi.html">bmi</a></li><li class="navelem"><a class="el" href="namespacemodels_1_1bmi_1_1protocols.html">protocols</a></li><li class="navelem"><a class="el" href="classmodels_1_1bmi_1_1protocols_1_1_ngen_mass_balance.html">NgenMassBalance</a></li>
    <li class="footer">Generated on Thu Jan 29 2026 20:50:31 for NGen by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>

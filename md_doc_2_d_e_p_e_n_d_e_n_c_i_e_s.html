<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NGen: Project Dependencies</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NGen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_doc_2_d_e_p_e_n_d_e_n_c_i_e_s.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Project Dependencies</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md123"></a> </p>
<h1><a class="anchor" id="autotoc_md124"></a>
Summary</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Dependency   </th><th class="markdownTableHeadLeft">Management   </th><th class="markdownTableHeadCenter">Version   </th><th class="markdownTableHeadCenter">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Google Test   </td><td class="markdownTableBodyLeft">submodule   </td><td class="markdownTableBodyCenter"><code>release-1.10.0</code>   </td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">C/C++ Compiler   </td><td class="markdownTableBodyLeft">external   </td><td class="markdownTableBodyCenter">see below   </td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CMake   </td><td class="markdownTableBodyLeft">external   </td><td class="markdownTableBodyCenter">&gt;= <code>3.17</code>   </td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Boost (Headers Only)   </td><td class="markdownTableBodyLeft">external   </td><td class="markdownTableBodyCenter"><code>1.79.0</code>   </td><td class="markdownTableBodyCenter">headers only library    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://www.unidata.ucar.edu/software/udunits">Udunits libraries</a>   </td><td class="markdownTableBodyLeft">external   </td><td class="markdownTableBodyCenter">&gt;= 2.0   </td><td class="markdownTableBodyCenter">Can be installed via package manager or from source    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a href="https://www.mpi-forum.org">MPI</a>   </td><td class="markdownTableBodyLeft">external   </td><td class="markdownTableBodyCenter">No current implementation or version requirements   </td><td class="markdownTableBodyCenter">Required for <a class="el" href="md_doc_2_d_i_s_t_r_i_b_u_t_e_d___p_r_o_c_e_s_s_i_n_g.html">multi-process distributed execution</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Python 3 Libraries   </td><td class="markdownTableBodyLeft">external   </td><td class="markdownTableBodyCenter">&gt;= <code>3.8.0</code>   </td><td class="markdownTableBodyCenter">Can be excluded.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">pybind11   </td><td class="markdownTableBodyLeft">submodule   </td><td class="markdownTableBodyCenter"><code>v2.6.0</code>   </td><td class="markdownTableBodyCenter">Can be excluded.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">dmod.subsetservice   </td><td class="markdownTableBodyLeft">external   </td><td class="markdownTableBodyCenter"><code>&gt;= 0.3.0</code>   </td><td class="markdownTableBodyCenter">Only required to perform integrated <a href="DISTRIBUTED_PROCESSING.md#subdivided-hydrofabric">hydrofabric file subdividing</a> for distributed processing .    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">t-route   </td><td class="markdownTableBodyLeft">submodule   </td><td class="markdownTableBodyCenter">see below   </td><td class="markdownTableBodyCenter">Module required to enable channel-routing. Requires pybind11 to enable    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">NetCDF Libraries   </td><td class="markdownTableBodyLeft">external   </td><td class="markdownTableBodyCenter">&gt;= <code>4.7.4</code>   </td><td class="markdownTableBodyCenter">Enables NetCDF I/O support    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a href="https://www.sqlite.org/cintro.html">SQLite3</a>   </td><td class="markdownTableBodyLeft">external   </td><td class="markdownTableBodyCenter">&gt; <code>3.7.17</code>   </td><td class="markdownTableBodyCenter">Enables GeoPackage reading support   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md125"></a>
Details</h1>
<h2><a class="anchor" id="autotoc_md126"></a>
Google Test</h2>
<p><a href="https://github.com/google/googletest">Google Test</a> is an external framework used for writing automated tests, as described in the <a class="el" href="md_test_2_r_e_a_d_m_e.html">testing README</a>.</p>
<h3><a class="anchor" id="autotoc_md127"></a>
Setup</h3>
<p>The dependency is handled as a Git Submodule, located at <code>test/googletest/</code>. To initialize the submodule after cloning the repo: </p><pre class="fragment">git submodule update --init --recursive -- test/googletest
</pre><p> Note that initializing the submodule will require the CMake build system be <a href="BUILDS_AND_CMAKE.md#build-system-regeneration">regenerated</a> if it had already been generated, in order for test targets to work.</p>
<h3><a class="anchor" id="autotoc_md128"></a>
Version Requirements</h3>
<p>The version used is automatically handled by submodule config. This can be synced by re-running the initialization command above.</p>
<p>As of project version <code>0.1.0</code>, this was the <b>Google Test</b> tag <code>release-1.10.0</code>.</p>
<h2><a class="anchor" id="autotoc_md129"></a>
C and C++ Compiler</h2>
<p>At present, <a href="(https://gcc.gnu.org/)">GCC</a> and <a href="https://clang.llvm.org/">Clang</a> are officially supported, though this is expected to change/expand in the near future.</p>
<h3><a class="anchor" id="autotoc_md130"></a>
Setup</h3>
<p>This dependency itself is handled externally. To used within the project, CMake just needs to know the path to each compiler. CMake is often able to handle this automatically when <a href="BUILDS_AND_CMAKE.md#generating-a-build-system">generating the build system</a>.</p>
<p>If CMake is unable to find a compiler automatically, the CMake <code>CMAKE_C_COMPILER</code> and/or <code>CMAKE_CXX_COMPILER</code> variables will need to be explicitly set. This can be done from the command line when running CMake, or by setting the standard <code>CC</code> and <code>CXX</code> environment variables.</p>
<h3><a class="anchor" id="autotoc_md131"></a>
Version Requirements</h3>
<p>Project C++ code needs to be compliant with the C++ 14 standard. Supported compilers need to be of a recent enough version to be compatible. <br  />
</p>
<p>Additionally, C++ compilers needs to be compatible (ideally officially <em>tested</em> as such) with other project C++ dependencies.</p>
<h4><a class="anchor" id="autotoc_md132"></a>
GCC</h4>
<p>Based on <a href="https://gcc.gnu.org/projects/cxx-status.html#cxx14">this page</a>, the C++ 14 support requirement probably equates to a version of GCC &gt;= version <code>5.0.0</code>.</p>
<h4><a class="anchor" id="autotoc_md133"></a>
Clang</h4>
<p>The Clang versioning scheme is a little convoluted. Using the official scheme, Clang 3.4 and later should support all C++ 14 features.</p>
<p>However, Apple likes to apply their own versioning to Clang and LLVM. The <code>Apple LLVM version 10.0.1 (clang-1001.0.46.4)</code> version released with MacOS 10.14.x should do fine. Recent, earlier version likely will as well, but YMMV.</p>
<h2><a class="anchor" id="autotoc_md134"></a>
CMake</h2>
<p>The <a href="https://gitlab.kitware.com/cmake/cmake">CMake</a> utility facilitates defining and running project builds. More details on CMake and builds have been documented <a class="el" href="md_doc_2_b_u_i_l_d_s___a_n_d___c_m_a_k_e.html">here</a>.</p>
<h3><a class="anchor" id="autotoc_md135"></a>
Setup</h3>
<p>This dependency itself is handled externally. No special steps are required to use CMake within the project.</p>
<p>However, a <a href="BUILDS_AND_CMAKE.md#generating-a-build-system">CMake build system</a> must be generated for the project before CMake builds can be run and executable artifacts can be created.</p>
<h3><a class="anchor" id="autotoc_md136"></a>
Version Requirements</h3>
<p>Currently, a version of CMake &gt;= <code>3.14.0</code> is required.</p>
<h2><a class="anchor" id="autotoc_md137"></a>
Boost (Headers Only)</h2>
<p>Boost libraries are used by this project. In particular, <a href="https://www.boost.org/doc/libs/1_79_0/libs/geometry/doc/html/geometry/compilation.html">Boost.Geometry</a> is used, but others are also.</p>
<p>Currently, only headers-only Boost libraries are utilized. As such, they are not exhaustively listed here since getting one essentially gets them all.</p>
<h3><a class="anchor" id="autotoc_md138"></a>
Setup</h3>
<p>Since only headers-only libraries are needed, the Boost headers simply need to be available on the local machine at a location the build process can find.</p>
<p>There are a variety of different ways to get the Boost headers locally. Various OS may have packages specifically to install them, though one should take note of whether such packages provide a version of Boost that meets this project's requirements. <br  />
</p>
<p>Alternatively, the Boost distribution itself can be manually downloaded and unpacked, as described for both <a href="https://www.boost.org/doc/libs/1_79_0/more/getting_started/unix-variants.html">Unix-variants</a> and <a href="https://www.boost.org/doc/libs/1_79_0/more/getting_started/windows.html">Windows</a> on the Boost website.</p>
<h4><a class="anchor" id="autotoc_md139"></a>
Setting &lt;strong&gt;BOOST_ROOT&lt;/strong&gt;</h4>
<p>If necessary, the project's CMake config is able to use the value of the <b>BOOST_ROOT</b> environment variable to help it find Boost, assuming the variable is set. It is not always required, as CMake may be able to find Boost without this, depending on how Boost was "installed."</p>
<p>However, it will often be necessary to set <b>BOOST_ROOT</b> if Boost was manually set up by downloading the distribution.</p>
<p>The variable should be set to the value of the <b>boost root directory</b>, which is something like <code>&lt;some_path&gt;/boost_1_79_0</code>.</p>
<h3><a class="anchor" id="autotoc_md140"></a>
Version Requirements</h3>
<p>At present, a version &gt;= <code>1.79.0</code> is required.</p>
<h2><a class="anchor" id="autotoc_md141"></a>
Udunits</h2>
<p><a href="https://www.unidata.ucar.edu/software/udunits">Udunits</a> is a C library and associated command line tool for converting between compatible units. Only the C library is a required dependency, though these frequently get bundled together. The library and needed development files can be installed via typical package managing tools.</p>
<h4><a class="anchor" id="autotoc_md142"></a>
Package Manager Install</h4>
<p>The Udunits library and development files can be installed via standard OS package management tools. The ngen project will automatically detect and use these. Note that both the library itself and development files must be installed, which are typically two separate, similarly named packages.</p>
<p>The ngen build will automatically search for these, so no additional steps are required to configure the build or the environment once they are installed. Installation can be done using the typical OS package manager, like <code>yum</code> or <code>apt</code>. Different distributions like to call the packages different things (e.g., <em>udunits2-dev</em>, <em>udunits2-devel</em>, <em>libudunits2-dev</em>, etc.), so you may need to do some searching. <a href="https://pkgs.org/search/?q=udunits2">This page</a> also provide details on package names for various Linux distros. <br  />
</p>
<p>Also, for CentOS in particular, you'll need <a href="https://docs.fedoraproject.org/en-US/epel/">the EPEL repo enabled</a></p>
<p>Packages for both the <em>library</em> and <em>development files</em> are needed. Package managers usually make this easy, but just make sure to pay attention to it if things do not work as expected.</p>
<p><a class="anchor" id="autotoc_md143"></a> </p><h5>Example Install Commands</h5>
<h6>Ubuntu</h6>
<p><code>apt-get install libudunits2-dev</code></p>
<h6>CentOS</h6>
<p><code>yum install udunits2-devel</code></p>
<p>As mentioned before, you may need to <a href="https://docs.fedoraproject.org/en-US/epel/">enable the EPEL repo first</a> first, if yum can't find the package.</p>
<h3><a class="anchor" id="autotoc_md144"></a>
Version Requirements</h3>
<p>Any version greater &gt;= 2.0 (i.e., <em>udunits2</em> or <em>libudunits2</em>).</p>
<h2><a class="anchor" id="autotoc_md145"></a>
Python 3 Libraries</h2>
<p>In order to interact with external models written in Python, the Python libraries must be made available. <br  />
</p>
<p>Further, the Python environment must have NumPy and a few other libraries installed. Several Python BMI function calls utilize <code>numpy</code> arrays, making <code>numpy</code> a necessity for using external Python models implementing BMI.</p>
<h4><a class="anchor" id="autotoc_md146"></a>
Overriding Python Dependency</h4>
<p>It is possible to run the build, build artifacts, etc. in a way that excludes Python-related functionality, thereby relieving this as a dependency. This may be useful in runtime environments that will not interact with a Python external model, and/or installing Python is prohibitively difficult.</p>
<p>To do this, set either the <code>NGEN_WITH_PYTHON</code> environment variable to <code>false</code> or include the <code>-DNGEN_WITH_PYTHON:BOOL=false</code> option when running the <code>cmake</code> build on the command line to generate the build system.</p>
<h3><a class="anchor" id="autotoc_md147"></a>
Setup</h3>
<p>The first step is to make sure Python is installed. NGen's CMake will use its <a href="https://cmake.org/cmake/help/v3.19/module/FindPython.html#module:FindPython">FindPython</a> functionality to locate the Python installation.</p>
<p>We recommend creating a Python 'virtual environment', and having it activated when configuring, building, testing, and running <code>ngen</code>. Necessary libraries can be installed in that environment without affecting the surrounding system.</p>
<p>Otherwise, CMake can be guided to use a particular Python installation according to <a href="https://cmake.org/cmake/help/latest/module/FindPython.html">its documentation</a>.</p>
<p>The Python installation found by CMake needs to have the relevant libraries installed. These libraries can be installed with </p><pre class="fragment">pip install numpy pandas pyyaml bmipy
</pre><p> or an equivalent command if using a different Python package manager.</p>
<h3><a class="anchor" id="autotoc_md148"></a>
Version Requirements</h3>
<p>A version of Python 3 &gt;= <code>3.6.8</code> is required. There are no specific version requirements for <code>numpy</code> currently.</p>
<h2><a class="anchor" id="autotoc_md149"></a>
pybind11</h2>
<p>The <code>pybind11</code> dependency is a header-only library that allows for exposing Python types, etc. within C++ code. It is necessary to work with externally maintained, modular Python models.</p>
<h4><a class="anchor" id="autotoc_md150"></a>
Overriding pybind11 Dependency</h4>
<p>This dependency can be overridden and disabled if the Python dependency is configured as such, as described here.</p>
<h3><a class="anchor" id="autotoc_md151"></a>
Setup</h3>
<p>The dependency is handled as a Git Submodule, located at <code>extern/pybind11</code>. To initialize the submodule after cloning the repo: </p><pre class="fragment">git submodule update --init extern/pybind11
</pre><p> Git <em>should</em> take care of checking out the commit for the required version automatically (assuming latest upstream changes have been fetched), so it should be possible to also use the command above to sync future updates to the required version.</p>
<p>However, to verify the checked out version, examine the output of: </p><pre class="fragment">git submodule status
</pre><p> If the above <code>update</code> command does not check out the expected version, this can be done manually. Below is an example of how to do this for the version tagged <code>v2.6.0</code>: </p><pre class="fragment">cd extern/pybind11
git checkout v2.6.0
</pre> <h3><a class="anchor" id="autotoc_md152"></a>
Version Requirements</h3>
<p>The version used is automatically handled by submodule config. This can be synced by re-running the initialization command above.</p>
<p>As of project version <code>0.1.0</code>, the required version is tag <code>v2.6.0</code>.</p>
<h2><a class="anchor" id="autotoc_md153"></a>
The &lt;tt&gt;dmod.subsetservice&lt;/tt&gt; Package</h2>
<p>This is an optional package available via the <a href="https://github.com/NOAA-OWP/DMOD">OWP DMOD tool</a>. It only is required to enable the driver to generate partition-specific subdivided hydrofabric files from the complete hydrofabric file, as is conditionally required for <a class="el" href="md_doc_2_d_i_s_t_r_i_b_u_t_e_d___p_r_o_c_e_s_s_i_n_g.html">distributed processing</a>. Further, its use is only attempted when such files are needed for distributed processing <em>and</em> are not already created.</p>
<p>As such, this dependency is ignored unless both Python support and MPI support are enabled and built into the <em>ngen</em> driver.</p>
<h3><a class="anchor" id="autotoc_md154"></a>
Setup</h3>
<p>This must be installed in the active Python environment at the time the <code>ngen</code> executable is called. This is usually best done via a virtual environment, especially if one is already set up as described for the Numpy dependency. However, all that matters is that the Python environment available to the ngen driver has this package installed.</p>
<p>If installing to a virtual env as suggested above, the installation steps are similar to what is described in the <a href="https://github.com/NOAA-OWP/DMOD/tree/master/doc/SUBSETTING_CLI_TOOL.md">DMOD project document for the subsetting CLI tool</a>. The difference is just to create and/or source a virtual environment locate here first, and then change to the DMOD project directory. All the example commands after the step of sourcing the virtual environment can then be followed as described on that page.</p>
<h3><a class="anchor" id="autotoc_md155"></a>
Version Requirements</h3>
<p>Version <code>0.3.0</code> or greater must be installed.</p>
<h2><a class="anchor" id="autotoc_md156"></a>
t-route</h2>
<h3><a class="anchor" id="autotoc_md157"></a>
Setup</h3>
<p>See the <a href="PYTHON_ROUTING.md#installing-t-route">installing t-route section</a> for more details.</p>
<p>Be sure to build ngen with Python and Routing support as discussed there, and if using a virtual environment, make sure it is activated when running ngen, e.g.:</p>
<div class="fragment"><div class="line">source venv/bin/activate</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md158"></a>
NetCDF Libraries</h2>
<h3><a class="anchor" id="autotoc_md159"></a>
Setup</h3>
<p>First, check if your compute system already have a version that is up to date, usually in the sub-directories (include/ and lib64/) under /usr. If not, you will have to install your own version. For instructions on how to install netCDF, some randomly selected references are <a href="https://docs.unidata.ucar.edu/nug/current/getting_and_building_netcdf.html">here</a> and <a href="https://docs.geoserver.org/main/en/user/extensions/netcdf-out/nc4.html">here</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Aug 22 2024 17:14:17 for NGen by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
